// Đăng nhập
fetch('http://localhost:4000/api/login-user', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  credentials: 'include', // Quan trọng để gửi/nhận cookie session
  body: JSON.stringify({
    username: ,
    password: ,
    rememberMe: 
  })
})
.then(res => res.json())
.then(data => console.log(data));


// Lấy role user
fetch('http://localhost:4000/me', {
  method: 'GET',
  credentials: 'include' // Để gửi cookie session lên backend
})
.then(res => res.json())
.then(data => {
  // Truy cập role
  const role = data.user?.role;
  console.log('User role:', role);
});

// Cách check role trực tiếp trong các API (thay vì trên frontend)
// Route cần quyền Chủ khách sạn
router.get('/api/admin-only', session.checkHotelOwner, (req, res) => {
  res.status(200).send('✅ Chào mừng Chủ khách sạn!');
});

// Route cần quyền Lễ tân
router.get('/api/receptionist-only', session.checkReceptionist, (req, res) => {
  res.status(200).send('✅ Chào mừng Lễ tân!');
});